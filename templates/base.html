<!DOCTYPE html>
<html>
<head>
    {% load static %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio-Builder">
    <meta name="theme-color" content="#0a425e">

    <!-- Load Materialize CSS first -->
    <link type="text/css" rel="stylesheet" href="{% static 'css/materialize.min.css' %}" media="screen,projection"/>
    <!-- Load your other CSS files -->
    <link type="text/css" rel="stylesheet" href="{% static 'css/regular.css' %}" media="screen,projection"/>
    <!-- Load your custom styles last -->
    <link type="text/css" rel="stylesheet" href="{% static 'css/styles.css' %}" media="screen,projection"/>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"/>

    <script type="text/javascript" src="{% static 'js/materialize.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-scale-chromatic@1.5.0/dist/d3-scale-chromatic.min.js"></script>    

    <title>
        {% block title %}
        {{ page_title|default:"Untitled Page"}}
        {% endblock title %}
    </title>
</head>
<body>
    <div class="main-container">
        <nav>
            <div class="nav-wrapper white z-depth-2" style="position: relative;">
                <img src="{% static 'images/tree.png' %}" id="logo-img" class="logo-img translate">
                <a href="#" class="brand-logo translate black-text">Portfolio Builder</a>
                <!-- Menu button for toggling sidebar -->
                <a href="#" id="toggle-button" class="toggle-button black-text"><i class="material-icons black-text">menu</i></a>
                <ul class="right hide-on-med-and-down">
                    <li><a href="sass.html" class="black-text">Parameters</a></li>
                    <li><a href="badges.html" class="black-text">Stock Search</a></li>
                    <li><a href="collapsible.html" class="black-text">Research</a></li>
                    <li><a href="mobile.html" class="black-text">Indicator info</a></li>
                </ul>
            </div>
        </nav>

        <div class="content z-depth-4">
            {% block sidebar %}
            {% endblock sidebar %}
            
            <div class="content-area container">
                {% block content %}
                {% endblock content %}
            </div>
        </div>

        <footer class="page-footer red accent-2">
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var toggleButton = document.getElementById('toggle-button');
            var sidebar = document.getElementById('sidebar');
            var datePickers = document.querySelectorAll('.datepicker');

            if (toggleButton && sidebar) {
                toggleButton.addEventListener('click', function() {
                    sidebar.classList.toggle('visible');
                    datePickers.forEach(function(picker) {
                        if (sidebar.classList.contains('visible')) {
                            picker.classList.add('adjusted-datepicker');
                        } else {
                            picker.classList.remove('adjusted-datepicker');
                        }
                    });
                });
            }
        });
    </script>
</body>
</html>

